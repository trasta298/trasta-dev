---
import { css } from '../../styled-system/css'
import { languages, type Lang } from '../i18n/ui'
import { getAlternatePath } from '../i18n/utils'

interface Props {
  lang: Lang
}

const { lang } = Astro.props
const currentPath = Astro.url.pathname
---

<div class={css({ display: 'flex', alignItems: 'center', gap: '8px' })}>
  {
    Object.entries(languages).map(([code, label]) => {
      const isActive = code === lang
      const href = getAlternatePath(currentPath, code as Lang)

      return isActive ? (
        <span
          class={css({
            fontSize: '14px',
            color: 'text',
            fontWeight: '600',
          })}
        >
          {code.toUpperCase()}
        </span>
      ) : (
        <a
          href={href}
          class={css({
            fontSize: '14px',
            color: 'textSecond',
            textDecoration: 'none',
            _hover: {
              textDecoration: 'underline',
            },
          })}
        >
          {code.toUpperCase()}
        </a>
      )
    })
  }
</div>
